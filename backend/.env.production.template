# Production Environment Configuration Template
# Copy this to backend/.env and update with your actual values

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
DB_HOST=localhost
DB_PORT=3306
DB_NAME=property_rental
DB_USER=root
DB_PASSWORD=your_secure_database_password_here

# ============================================================================
# JWT & SESSION CONFIGURATION
# ============================================================================
JWT_SECRET=your_super_secret_jwt_key_minimum_32_characters_change_in_production
JWT_EXPIRES_IN=24h
SESSION_SECRET=your_super_secret_session_key_minimum_32_characters_change_in_production

# ============================================================================
# SERVER CONFIGURATION
# ============================================================================
PORT=4002
NODE_ENV=production

# Your production domain (used for CORS and frontend URL)
PRODUCTION_DOMAIN=192.168.1.109

# Frontend URL (will be accessible to users)
FRONTEND_URL=http://192.168.1.109:3000

# Backend origin (internal, used for file URLs)
BACKEND_ORIGIN=http://192.168.1.109:4002

# ============================================================================
# RATE LIMITING (Multi-User Support)
# ============================================================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=2000

# ============================================================================
# DATABASE CONNECTION POOL (Multi-User Optimization)
# ============================================================================
DB_POOL_MAX=20
DB_POOL_MIN=5
DB_POOL_ACQUIRE=60000
DB_POOL_IDLE=30000

# ============================================================================
# SERVER TIMEOUTS (Multi-User Support)
# ============================================================================
SERVER_KEEP_ALIVE_TIMEOUT=65000
SERVER_HEADERS_TIMEOUT=66000

# ============================================================================
# EMAIL CONFIGURATION (For sending receipts and bills)
# ============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
EMAIL_USER=your-email@gmail.com
EMAIL_PASS=your-app-password-here

# For Gmail, generate an App Password:
# https://myaccount.google.com/apppasswords

# ============================================================================
# FILE UPLOAD CONFIGURATION
# ============================================================================
UPLOAD_DIR=uploads
MAX_FILE_SIZE=10485760

# ============================================================================
# ADMIN BOOTSTRAP (Optional - for first-time setup only)
# ============================================================================
# These are used ONLY if no admin exists in the database
ADMIN_EMAIL=admin@your-domain.com
ADMIN_PASSWORD=change_this_immediately_after_first_login
ADMIN_NAME=System Administrator

# ============================================================================
# IMPORTANT SECURITY NOTES
# ============================================================================
# 1. Change ALL secret keys to unique, random values (minimum 32 characters)
# 2. Use a strong database password
# 3. Generate Gmail App Password (don't use your main password)
# 4. Update PRODUCTION_DOMAIN with your actual domain
# 5. Never commit this .env file to version control
# 6. Set proper file permissions: chmod 600 .env
# 7. Change default admin password after first login
# 8. Keep this file backed up securely

# ============================================================================
# GENERATE SECURE SECRETS
# ============================================================================
# Use these commands to generate secure secrets:
#
# On Linux/Mac:
# openssl rand -base64 32
#
# On Windows (PowerShell):
# -join ((65..90) + (97..122) + (48..57) | Get-Random -Count 32 | % {[char]$_})
#
# Online:
# https://www.random.org/strings/?num=1&len=32&digits=on&upperalpha=on&loweralpha=on&unique=on&format=plain

# ============================================================================
# SSL CONFIGURATION (After setting up Let's Encrypt)
# ============================================================================
# Once you have SSL certificates, update these:
# FRONTEND_URL=https://your-domain.com
# BACKEND_ORIGIN=https://your-domain.com
# Then restart PM2: pm2 restart property-backend
