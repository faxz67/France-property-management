import{j as e}from"./index-rAghrxu1.js";import{r}from"./router-DUq0sin2.js";import k from"./api-XfUXylTc.js";import{X as U,s as W,F as G,t as X,P as H,p as Q,u as J,e as V,v as Y,w as Z}from"./icons-B-WyEUkg.js";import"./Dashboard-C2yiMU_o.js";/* empty css                            */import"./vendor-Bzgz95E1.js";import"./utils-B9HHbEsj.js";import"./charts-DdKZH6bc.js";const ee=({tenantId:g,tenantName:q,onClose:O})=>{const[y,c]=r.useState([]),[b,A]=r.useState(!1),[D,f]=r.useState(!1),[N,u]=r.useState(""),[m,h]=r.useState(null),[S,T]=r.useState("General"),[I,C]=r.useState(null),[E,P]=r.useState(""),v=["General","ID Document","Passport","Lease Agreement","Proof of Income","Bank Statement","Reference Letter","Other"];r.useEffect(()=>{j()},[g]);const j=async()=>{try{A(!0);const s=await k.getTenantDocuments(g);c(s.data?.data?.documents||[])}catch(s){console.error("Error fetching documents:",s),u(s.userMessage||"Failed to fetch documents")}finally{A(!1)}},F=s=>{const n=s.target.files;n&&n.length>0&&h(n)},d=async()=>{if(!m||m.length===0){u("Please select at least one document");return}f(!0),u("");try{const s=new FormData;for(let L=0;L<m.length;L++)s.append("documents",m[L]);s.append("document_type",S),await k.uploadTenantDocuments(g,s),h(null),T("General"),await j();const n=document.getElementById("document-upload");n&&(n.value="")}catch(s){console.error("Error uploading documents:",s),u(s.userMessage||"Failed to upload documents")}finally{f(!1)}},x=async s=>{if(confirm("Are you sure you want to delete this document?"))try{await k.deleteTenantDocument(g,s),await j()}catch(n){console.error("Error deleting document:",n),u(n.userMessage||"Failed to delete document")}},_=s=>{C(s.id),P(s.document_type)},M=async s=>{try{await k.updateTenantDocumentType(g,s,E),C(null),P(""),await j()}catch(n){console.error("Error updating document type:",n),u(n.userMessage||"Failed to update document type")}},$=()=>{C(null),P("")},w=()=>{h(null);const s=document.getElementById("document-upload");s&&(s.value="")},R=s=>s<1024?s+" B":s<1024*1024?(s/1024).toFixed(1)+" KB":(s/(1024*1024)).toFixed(1)+" MB",z=s=>s.startsWith("image/")?"ðŸ–¼ï¸":s==="application/pdf"?"ðŸ“„":s.includes("word")?"ðŸ“":s.includes("excel")||s.includes("spreadsheet")?"ðŸ“Š":"ðŸ“Ž";return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 sticky top-0 bg-white z-10",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Tenant Documents"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:q})]}),e.jsx("button",{onClick:O,className:"text-gray-400 hover:text-gray-600 transition-colors",title:"Close",children:e.jsx(U,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 bg-gray-50",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Upload New Documents"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{children:e.jsxs("label",{htmlFor:"document-upload",className:"flex items-center justify-center w-full px-4 py-3 border border-gray-300 rounded-lg cursor-pointer bg-white hover:bg-gray-100 transition-colors",children:[e.jsx(W,{className:"w-5 h-5 mr-2 text-gray-600"}),e.jsx("span",{className:"text-gray-700",children:"Choose Files"}),e.jsx("input",{id:"document-upload",type:"file",multiple:!0,onChange:F,className:"hidden",accept:"image/*,.pdf,.doc,.docx,.xls,.xlsx,.txt"})]})}),e.jsx("div",{children:e.jsx("select",{value:S,onChange:s=>T(s.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:v.map(s=>e.jsx("option",{value:s,children:s},s))})})]}),m&&m.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:[m.length," file(s) selected"]}),e.jsx("button",{onClick:w,className:"text-sm text-red-600 hover:text-red-800",children:"Clear Selection"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-3 max-h-32 overflow-y-auto",children:Array.from(m).map((s,n)=>e.jsxs("div",{className:"flex items-center justify-between py-1 text-sm",children:[e.jsx("span",{className:"text-gray-700 truncate flex-1",children:s.name}),e.jsx("span",{className:"text-gray-500 ml-2",children:R(s.size)})]},n))}),e.jsx("button",{onClick:d,disabled:D,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:D?"Uploading...":"Upload Documents"})]})]})]}),N&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:N}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Uploaded Documents (",y.length,")"]}),b?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Loading documents..."})]}):y.length===0?e.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[e.jsx(G,{className:"w-12 h-12 mx-auto text-gray-400 mb-3"}),e.jsx("p",{className:"text-gray-600",children:"No documents uploaded yet"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Upload your first document above"})]}):e.jsx("div",{className:"space-y-3",children:y.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg bg-white hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[e.jsx("div",{className:"text-3xl mr-3",children:z(s.mime_type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",title:s.original_filename,children:s.original_filename}),e.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[I===s.id?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("select",{value:E,onChange:n=>P(n.target.value),className:"text-xs px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",children:v.map(n=>e.jsx("option",{value:n,children:n},n))}),e.jsx("button",{onClick:()=>M(s.id),className:"text-green-600 hover:text-green-800",title:"Save",children:e.jsx(X,{className:"w-4 h-4"})}),e.jsx("button",{onClick:$,className:"text-gray-600 hover:text-gray-800",title:"Cancel",children:e.jsx(U,{className:"w-4 h-4"})})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:s.document_type}),e.jsx("button",{onClick:()=>_(s),className:"text-gray-400 hover:text-gray-600",title:"Edit type",children:e.jsx(H,{className:"w-3 h-3"})})]}),e.jsx("span",{className:"text-xs text-gray-500",children:R(s.file_size)})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsx("a",{href:s.file_url,target:"_blank",rel:"noopener noreferrer",download:!0,className:"flex items-center justify-center px-3 py-2 text-sm bg-blue-50 text-blue-700 rounded hover:bg-blue-100 transition-colors",title:"Download",children:e.jsx(Q,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>x(s.id),className:"flex items-center justify-center px-3 py-2 text-sm bg-red-50 text-red-700 rounded hover:bg-red-100 transition-colors",title:"Delete",children:e.jsx(J,{className:"w-4 h-4"})})]})]},s.id))})]})]}),e.jsx("div",{className:"flex items-center justify-end p-6 border-t border-gray-200 bg-gray-50",children:e.jsx("button",{onClick:O,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Close"})})]})})},B=k,de=()=>{const[g,q]=r.useState(""),[O,y]=r.useState(!1),[c,b]=r.useState({fullName:"",email:"",phone:"",propertyId:"",checkInDate:"",checkOutDate:"",documents:[],rent:""}),[A,D]=r.useState([]),[f,N]=r.useState([]),[u,m]=r.useState(!1),[h,S]=r.useState(null),[T,I]=r.useState(!1),[C,E]=r.useState(null),[P,v]=r.useState(!1),[j,F]=r.useState(null),[d,x]=r.useState({fullName:"",email:"",phone:"",propertyId:"",checkInDate:"",checkOutDate:"",documents:[],rent:""}),[_,M]=r.useState(null),$=async()=>{m(!0),S(null);try{if(!localStorage.getItem("token")){console.log("No token found, skipping properties API call"),N([]),m(!1);return}const a=await k.listProperties();if(console.log("ðŸ“Š Properties API response:",a.data),a.data?.success&&a.data?.data?.properties){const l=a.data.data.properties.map(o=>({id:o.id,title:o.title}));N(l)}else S("Failed to load properties"),N([]),console.log("âŒ Failed to load properties - invalid response structure")}catch(t){console.error("âŒ Error fetching properties:",t),S(t.response?.data?.error||"Failed to load properties"),N([])}finally{m(!1)}},w=async()=>{I(!0),E(null);try{if(!localStorage.getItem("token")){console.log("No token found, skipping tenants API call"),D([]),I(!1);return}const a=JSON.parse(localStorage.getItem("user")||"{}");console.log("ðŸ‘¤ Current user:",a),console.log("ðŸ†” User admin_id:",a.id),console.log("ðŸ‘¤ User role:",a.role);const l=await k.listTenants();console.log("ðŸ“Š Tenant API response:",l.data),console.log("ðŸ“Š Response success:",l.data?.success),console.log("ðŸ“Š Response data structure:",l.data?.data),console.log("ðŸ“Š Tenants array:",l.data?.data?.tenants),console.log("ðŸ“Š Tenants count:",l.data?.data?.tenants?.length);const o=l.data?.data?.tenants||[];console.log("ðŸ“‹ Raw tenant data:",o),console.log("ðŸ“‹ Raw tenant data length:",o.length);const p=o.map(i=>({id:String(i.id),fullName:i.name,email:i.email||"",phone:i.phone||"",propertyName:f.find(K=>K.id===i.property_id)?.title||"",propertyId:i.property_id?String(i.property_id):"",checkInDate:i.lease_start||"",checkOutDate:i.lease_end||"",stayDuration:0,status:i.status?.toLowerCase()||"active",avatar:"",documents:[],rent_amount:i.rent_amount,document_path:i.documents}));D(p)}catch(t){console.error("âŒ Error loading tenants:",t),E(t.response?.data?.error||t.message||"Failed to load tenants"),D([])}finally{I(!1)}};r.useEffect(()=>{(async()=>{await $(),await w()})()},[]),r.useEffect(()=>(f.length>0&&w(),()=>{I(!1),E(null)}),[f]);const R=async t=>{if(t.preventDefault(),console.log("ðŸ“ Tenant form submitted"),!c.fullName.trim()){console.log("âŒ Validation failed: Name is required"),alert("Please enter tenant name");return}if(!c.email.trim()){console.log("âŒ Validation failed: Email is required"),alert("Please enter tenant email");return}if(!c.propertyId){console.log("âŒ Validation failed: Property is required"),alert("Please select a property");return}const a=parseInt(c.propertyId);if(isNaN(a)){console.log("âŒ Validation failed: Invalid property ID"),alert("Invalid property selected");return}const l={name:c.fullName.trim(),email:c.email.trim(),property_id:a};c.phone?.trim()&&(l.phone=c.phone.trim()),c.rent&&(l.rent_amount=parseFloat(c.rent)),console.log("ðŸ“¤ Sending tenant data:",l);try{const o=await B.createTenant(l);console.log("âœ… Tenant created successfully:",o.data),y(!1),b({fullName:"",email:"",phone:"",propertyId:"",checkInDate:"",checkOutDate:"",documents:[],rent:""}),console.log("ðŸ”„ Refreshing tenant list after creation..."),await w()}catch(o){console.error("âŒ Create tenant error:",o);let p=o?.response?.data?.error||o?.message||"Failed to add tenant. Please try again.";p.includes("Too many requests")&&(p="Rate limit exceeded. Please wait a moment before trying again.");const i=o?.response?.data?.details;i?(console.error("ðŸ“‹ Validation details:",i),alert(`${p}

Details: ${JSON.stringify(i,null,2)}`)):alert(p)}},z=t=>{console.log("âœï¸ Editing tenant:",t),F(t),x({fullName:t.fullName||"",email:t.email||"",phone:t.phone||"",propertyId:t.propertyId||"",checkInDate:t.checkInDate||"",checkOutDate:t.checkOutDate||"",documents:[],rent:t.rent_amount?String(t.rent_amount):""}),v(!0)},s=async t=>{if(console.log("ðŸ—‘ï¸ Deleting tenant:",t),!!confirm("Are you sure you want to delete this tenant? This action cannot be undone."))try{await B.deleteTenantApi(t),console.log("âœ… Tenant deleted successfully"),alert("Tenant deleted successfully"),await w()}catch(a){console.error("âŒ Error deleting tenant:",a);let l=a?.response?.data?.error||a?.message||"Failed to delete tenant. Please try again.";l.includes("Too many requests")&&(l="Rate limit exceeded. Please wait a moment before trying again."),alert(l)}},n=async t=>{if(t.preventDefault(),!j)return;if(console.log("ðŸ“ Edit tenant form submitted"),!d.fullName.trim()){alert("Please enter tenant name");return}if(!d.email.trim()){alert("Please enter tenant email");return}if(!d.propertyId){alert("Please select a property");return}const a=parseInt(d.propertyId);if(isNaN(a)){alert("Invalid property selected");return}const l={name:d.fullName.trim(),email:d.email.trim(),property_id:a};d.phone?.trim()&&(l.phone=d.phone.trim()),d.rent&&(l.rent_amount=parseFloat(d.rent)),console.log("ðŸ“¤ Updating tenant data:",l);try{const o=await B.updateTenant(j.id,l);console.log("âœ… Tenant updated successfully:",o.data),v(!1),F(null),x({fullName:"",email:"",phone:"",propertyId:"",checkInDate:"",checkOutDate:"",documents:[],rent:""}),console.log("ðŸ”„ Refreshing tenant list after update..."),await w()}catch(o){console.error("âŒ Update tenant error:",o);let p=o?.response?.data?.error||o?.message||"Failed to update tenant. Please try again.";p.includes("Too many requests")&&(p="Rate limit exceeded. Please wait a moment before trying again.");const i=o?.response?.data?.details;i?(console.error("ðŸ“‹ Validation details:",i),alert(`${p}

Details: ${JSON.stringify(i,null,2)}`)):alert(p)}},L=A.filter(t=>t.fullName?.toLowerCase().includes(g.toLowerCase())||t.propertyName?.toLowerCase().includes(g.toLowerCase())||t.propertyId?.toLowerCase().includes(g.toLowerCase()));return e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6 fade-in-soft",children:"Tenant Management"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"p-3 bg-blue-50 rounded smooth-transition hover-lift fade-in",style:{animationDelay:"0.1s"},children:[e.jsx("h3",{className:"font-semibold",children:"Properties Status:"}),u?e.jsx("p",{className:"shimmer",children:"Loading properties..."}):h?e.jsxs("p",{className:"text-red-600",children:["Error: ",h]}):e.jsxs("p",{className:"text-green-600",children:["âœ“ Found ",f.length," properties"]})]}),e.jsxs("div",{className:"p-3 bg-green-50 rounded smooth-transition hover-lift fade-in",style:{animationDelay:"0.2s"},children:[e.jsx("h3",{className:"font-semibold",children:"Tenants Status:"}),T?e.jsx("p",{className:"shimmer",children:"Loading tenants..."}):C?e.jsxs("p",{className:"text-red-600",children:["Error: ",C]}):e.jsxs("p",{className:"text-green-600",children:["âœ“ Found ",A.length," tenants"]})]})]}),e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("div",{className:"flex-1 max-w-md slide-in-left",children:e.jsxs("div",{className:"relative",children:[e.jsx(V,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4 smooth-transition"}),e.jsx("input",{type:"text",placeholder:"Search tenants...",value:g,onChange:t=>q(t.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 smooth-transition hover-lift"})]})}),e.jsxs("button",{onClick:()=>y(!0),className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 smooth-transition hover-lift-strong glow-effect slide-in-right",children:[e.jsx(Y,{className:"w-4 h-4 smooth-transition"}),e.jsx("span",{children:"Add Tenant"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:L.map((t,a)=>e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden smooth-transition hover-lift fade-in",style:{animationDelay:`${a*.1}s`},children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600 font-semibold",children:t.fullName?.charAt(0)||"T"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:t.fullName}),e.jsx("p",{className:"text-sm text-gray-500",children:t.email})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>M(t),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg nav-transition nav-hover-scale",title:"Manage documents",children:e.jsx(G,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>z(t),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg nav-transition nav-hover-scale",title:"Edit tenant",children:e.jsx(Z,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>s(String(t.id)),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg nav-transition nav-hover-scale",title:"Delete tenant",children:e.jsx(J,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Property:"})," ",t.propertyName||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Phone:"})," ",t.phone||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Rent:"})," $",t.rent_amount||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"}),e.jsx("span",{className:`ml-1 px-2 py-1 rounded-full text-xs ${t.status==="active"?"bg-green-100 text-green-800":t.status==="upcoming"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:t.status})]})]})]})},t.id))}),L.length===0&&!T&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-2",children:e.jsx(V,{className:"w-12 h-12 mx-auto"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No tenants found"}),e.jsx("p",{className:"text-gray-600",children:"Try adjusting your search terms or add a new tenant."})]}),T&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-blue-400 mb-2",children:e.jsx("div",{className:"w-12 h-12 mx-auto border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"Loading tenants..."}),e.jsx("p",{className:"text-gray-600",children:"Please wait while we fetch the tenant data."})]}),O&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Add New Tenant"}),e.jsx("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(U,{className:"w-6 h-6"})})]}),e.jsxs("form",{onSubmit:R,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),e.jsx("input",{type:"text",required:!0,value:c.fullName,onChange:t=>b(a=>({...a,fullName:t.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),e.jsx("input",{type:"email",required:!0,value:c.email,onChange:t=>b(a=>({...a,email:t.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),e.jsx("input",{type:"tel",value:c.phone,onChange:t=>b(a=>({...a,phone:t.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Property *"}),e.jsxs("select",{required:!0,value:c.propertyId,onChange:t=>b(a=>({...a,propertyId:t.target.value})),disabled:u,className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${u?"bg-gray-100 cursor-not-allowed":""}`,children:[e.jsx("option",{value:"",children:u?"Loading properties...":"Select a property"}),f.map(t=>e.jsx("option",{value:String(t.id),children:t.title},t.id))]}),h&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:h})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rent Amount"}),e.jsx("input",{type:"number",step:"0.01",value:c.rent,onChange:t=>b(a=>({...a,rent:t.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>y(!1),className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Add Tenant"})]})]})]})}),_&&e.jsx(ee,{tenantId:Number(_.id),tenantName:_.fullName||_.name||"Unknown",onClose:()=>M(null)}),P&&j&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Edit Tenant"}),e.jsx("button",{onClick:()=>{v(!1),F(null),x({fullName:"",email:"",phone:"",propertyId:"",checkInDate:"",checkOutDate:"",documents:[],rent:""})},className:"text-gray-400 hover:text-gray-600",children:e.jsx(U,{className:"w-6 h-6"})})]}),e.jsxs("form",{onSubmit:n,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),e.jsx("input",{type:"text",required:!0,value:d.fullName,onChange:t=>x(a=>({...a,fullName:t.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),e.jsx("input",{type:"email",required:!0,value:d.email,onChange:t=>x(a=>({...a,email:t.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),e.jsx("input",{type:"tel",value:d.phone,onChange:t=>x(a=>({...a,phone:t.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Property *"}),e.jsxs("select",{required:!0,value:d.propertyId,onChange:t=>x(a=>({...a,propertyId:t.target.value})),disabled:u,className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${u?"bg-gray-100 cursor-not-allowed":""}`,children:[e.jsx("option",{value:"",children:u?"Loading properties...":"Select a property"}),f.map(t=>e.jsx("option",{value:String(t.id),children:t.title},t.id))]}),h&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:h})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rent Amount"}),e.jsx("input",{type:"number",step:"0.01",value:d.rent,onChange:t=>x(a=>({...a,rent:t.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>{v(!1),F(null),x({fullName:"",email:"",phone:"",propertyId:"",checkInDate:"",checkOutDate:"",documents:[],rent:""})},className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Update Tenant"})]})]})]})})]})};export{de as default};
